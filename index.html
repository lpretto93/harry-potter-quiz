<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gioco Hogwarts</title>
    <style>
        /* Impostazioni generali */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            overflow-x: hidden;
            overflow-y: auto; /* Rende la pagina scrollabile */
            height: 100vh; /* Garantisce che l'altezza della pagina si adatti allo schermo */
            padding: 0;
        }

        /* Sfondo e logo comune */
        .screen {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('images/letter.jpg');
            background-size: cover;
            background-position: center;
            color: #8B4513; /* Marrone bruciato */
            text-align: center;
            padding-top: 150px;
            box-sizing: border-box;
            overflow-y: auto; /* Abilita lo scroll verticale in caso di contenuto lungo */
        }

        .screen.active {
            display: block;
        }

        .logo {
            width: 150px;
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        h1, p {
            color: #8B4513; /* Giallo tenue tendente al bianco */
            margin: 0;
            padding: 10px 0;
        }

        /* Schermata delle Casate */
        #houses-screen {
            background-image: url('images/houses.jpg'); 
            background-size: cover;
            background-position: center;
            color: #FFDAB9; /* Giallo tenue tendente al bianco per il testo */
            text-align: center;
            padding-top: 150px;
            box-sizing: border-box;
        }

        /* Box delle casate */
        #houses-container {
            display: flex;
            color: #FFDAB9;
            text-align: center;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-top: 50px;
        }

        /* Ogni singola casa */
        .house {
            text-align: center;
            color: #FFDAB9;
            cursor: pointer;
            width: 200px;
            margin-bottom: 30px;
            opacity: 0.8; /* Rende la box leggermente trasparente */
            transition: opacity 0.3s;
        }

        .house:hover {
            opacity: 1; /* Aumenta l'opacità quando si passa sopra */
        }

        .house img {
            width: 100%;
            height: auto;
        }

        .house p {
            margin-top: 10px;
            font-size: 1em;
            color: #FFDAB9;
        }

        /* Pagine quiz e risultato */
        #quiz-screen {
            text-align: center;
            margin-top: 100px;
        }

        #answers-container button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 1.2em;
            cursor: pointer;
            background-color: rgba(255, 255, 255, 0.7);
            border: none;
            border-radius: 5px;
            color: #8B4513;
        }

        #next-question {
            display: none;
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1.5em;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }

        /* Stili per il pannello di amministrazione */
        #admin-panel {
            text-align: center;
            margin-top: 50px;
        }

        /* Logo denied */
        #result-screen img {
            width: 150px;
            height: auto;
        }

        /* Posizione dei pulsanti */
        .next-button, .start-button {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: auto;
            background-color: transparent;
            border: none;
            cursor: pointer;
        }

        /* Ottimizzazione per dispositivi mobili */
        @media (max-width: 768px) {
            .logo {
                width: 120px;
                top: 10px;
            }

            .house {
                width: 180px;
            }

            #houses-container {
                gap: 10px;
            }

            .screen {
                padding-top: 50px;
            }

            .next-button, .start-button {
                width: 40px;
            }

            #answers-container button {
                font-size: 1.1em;
                padding: 8px 16px;
            }
        }
    </style>
</head>
<body>

<!-- Schermata Iniziale (nome utente) -->
<!-- Schermata Iniziale (nome utente) -->
<div id="start-screen" class="screen active">
    <img src="images/hogwarts.png" alt="Hogwarts Logo" class="logo">
    <h1>Benvenuto alla Scuola di Magia e Stregoneria di Hogwarts!</h1>
    <p>Caro futuro mago o strega,</p>
    <p>Una lettera speciale è arrivata per te! Hogwarts ti sta invitando ad iniziare un viaggio straordinario nel mondo della magia. Qui, tra antiche mura e misteriose creature, imparerai incantesimi, pozioni e segreti millenari. Ma prima di intraprendere questa incredibile avventura, c'è una cosa importante da fare...</p>
    <p>Per favore, dicci il tuo nome, così potremo prepararti per la tua magica avventura!</p>
    <input type="text" id="username-input" placeholder="Inserisci il tuo nome magico">
    <img src="images/next-page.png" alt="Inizia" class="start-button" onclick="startGame()">
</div>


<!-- Schermata della Lettera -->
<!-- Schermata della Lettera -->
<div id="letter-screen" class="screen">
    <img src="images/hogwarts.png" alt="Hogwarts Logo" class="logo">
    <p>Carissimo [Nome del Mago],</p>
    <p>Abbiamo il piacere di informarti che sei stato ufficialmente accettato alla Scuola di Magia e Stregoneria di Hogwarts! Prepara la tua bacchetta e mettiti comodo, perché ti stai per immergere in un mondo straordinario, dove ogni angolo nasconde misteri, avventure e possibilità infinite.</p>
    <p>Inizia il tuo viaggio nelle magiche aule della scuola, dove potrai studiare incantesimi, pozioni e tutto ciò che riguarda il mondo della magia. Avrai l'opportunità di incontrare i nostri esperti professori, come il saggio Professor Flitwick, la gentile Professor McGonagall, e tanti altri insegnanti che ti guideranno nel tuo cammino.</p>
    <p>Ma non è tutto! Hogwarts è divisa in quattro prestigiose casate, ciascuna con le sue caratteristiche uniche e i suoi valori. Da un lato, c'è la valorosa Grifondoro, con il coraggio e l'onore dei suoi membri; dall'altro, Tassorosso, che celebra il duro lavoro e la lealtà; Corvonero, una casa per i più saggi e ingegnosi; e infine, Serpeverde, la casa dell'ambizione e della determinazione.</p>
    <p>In seguito, dovrai scegliere in quale casata vuoi entrare. Ogni casata ha una lunga tradizione e, come tutti i nostri studenti, avrai la possibilità di lasciare un'impronta indelebile nella storia della scuola.</p>
    <img src="images/next-page.png" alt="Inizia" class="start-button" onclick="goToHousesScreen()">
</div>

<!-- Schermata delle Casate -->
<div id="houses-screen" class="screen">
    <img src="images/hogwarts.png" alt="Hogwarts Logo" class="logo">
    <h1>Scegli la tua casata preferita</h1>
    <div id="houses-container">
        <div class="house" data-house="Gryffindor">
            <img src="images/houses/Gryffindor.png" alt="Grifondoro">
            <p>Grifondoro, la casa fondata dal leggendario Godric Grifondoro, è senza dubbio la più iconica e audace tra le quattro. Gli studenti che vengono smistati in questa casa sono noti per il loro coraggio, il loro spirito di sacrificio e la loro incrollabile determinazione a fare ciò che è giusto, anche quando la strada sembra difficile o pericolosa. Non si tirano mai indietro di fronte alle difficoltà, e spesso si trovano a lottare contro le ingiustizie, come i famosi membri della casa, tra cui il celebre Harry Potter.

Gli studenti di Grifondoro sono spinti dall'onore e dalla voglia di difendere i più deboli, senza mai arrendersi. La loro casa è un faro di speranza, dove il valore dell'amicizia e la lealtà sono sempre al centro, e ogni membro si sforza di eccellere non solo nelle arti magiche, ma anche nel dimostrare una forza interiore che può sfidare qualsiasi avversità. La Sala Comune di Grifondoro si trova in una torre che si affaccia sulla scuola, un posto che, come la casa stessa, trasmette un senso di altezza morale e di coraggio incondizionato.</p>
        </div>
        <div class="house" data-house="Hufflepuff">
            <img src="images/houses/Hufflepuff.png" alt="Tassorosso">
            <p>Tassorosso, fondata dalla saggia Helga Tassorosso, è la casa che più di tutte incarna i valori della lealtà, del lavoro duro e dell'umiltà. Gli studenti di Tassorosso sono noti per il loro spirito di collaborazione, il loro impegno e la loro costante dedizione al bene comune. Non cercano la gloria, né il riconoscimento, ma sono felici di lavorare dietro le quinte per aiutare gli altri e contribuire alla comunità. Sono i pilastri della scuola, i compagni che rendono ogni avventura possibile e che, spesso, sono i veri artefici del cambiamento.

Le loro doti sono la pazienza e la perseveranza. Non c'è nulla che non possano realizzare se ci mettono il cuore, perché per loro il successo non si misura in vittorie apparenti, ma nella capacità di affrontare ogni sfida con onestà e tenacia. La Sala Comune di Tassorosso, situata vicino alle cucine della scuola, è accogliente e calorosa, un rifugio dove gli studenti possono rilassarsi, godersi la compagnia dei compagni e trovare conforto in una comunità che è sempre pronta a supportarsi a vicenda.</p>
        </div>
        <div class="house" data-house="Ravenclaw">
            <img src="images/houses/Ravenclaw.png" alt="Corvonero">
            <p>Corvonero, la casa fondata da Rowena Corvonero, è il rifugio degli studenti che cercano la verità attraverso l'intelligenza, l'ingegno e la curiosità. Gli studenti di questa casa sono tra i più brillanti e studiosi di Hogwarts, sempre alla ricerca di nuove risposte, di enigmi da risolvere e di scoperte che possano ampliare i confini della conoscenza magica. La loro mente è un campo fertile dove germogliano le idee più originali e le intuizioni più affilate, e sono spesso quelli che spingono la magia in direzioni mai esplorate prima.

Corvonero è la casa che celebra il pensiero indipendente e la saggezza. I suoi membri non sono spinti dal desiderio di potere o di fama, ma da una passione genuina per l'apprendimento. La Sala Comune di Corvonero, che si trova in cima a una torre della scuola, è un luogo tranquillo e sereno, adornato da scaffali pieni di libri e dai più recenti trattati di magia. Qui, gli studenti di Corvonero possono immergersi nei loro studi, lontano dal trambusto della vita quotidiana, mentre continuano a perfezionare le loro abilità e a coltivare la loro sete insaziabile di conoscenza.</p>
        </div>
        <div class="house" data-house="Slytherin">
            <img src="images/houses/Slytherin.png" alt="Serpeverde">
            <p>Serpeverde, fondata da Salazar Serpeverde, è la casa che più di tutte incarna l'ambizione, la determinazione e la capacità di sfruttare ogni opportunità per raggiungere il successo. Gli studenti di Serpeverde sono famosi per la loro astuzia e la loro capacità di muoversi nel mondo con discrezione, ma anche con un preciso scopo in mente: il raggiungimento dei propri obiettivi, qualunque essi siano. Non hanno paura di mettersi alla prova, di spingersi oltre i propri limiti e di fare ciò che è necessario per ottenere ciò che vogliono.

Serpeverde è la casa della mente strategica, di coloro che comprendono che a volte la magia non è solo potere, ma anche capacità di leggere la situazione, di anticipare le mosse e di usare le risorse a disposizione per manipolare il destino. La Sala Comune di Serpeverde, situata nelle profondità del castello, è un luogo misterioso e intrigante, con pareti di pietra e luci soffuse che creano un'atmosfera di segretezza e riflessione. Qui, gli studenti si concentrano sul loro futuro, con una mente focalizzata sulla grandezza, sul successo e sull'eccellenza, pronti a lasciare un segno nel mondo magico.

</p>
        </div>
    </div>
</div>

<!-- Schermata del Quiz -->
<div id="quiz-screen" class="screen">
    <img src="images/hogwarts.png" alt="Hogwarts Logo" class="logo">
    <h1>Quiz di Ammissione</h1>
    <p id="question">Domanda</p>
    <div id="answers-container"></div>
    <img src="images/next-page.png" alt="Prossima domanda" class="next-button" onclick="loadNextQuestion()">
</div>

<!-- Schermata del Risultato -->
<div id="result-screen" class="screen">
    <img src="images/hogwarts.png" alt="Hogwarts Logo" class="logo">
    <h1 id="result-message">Risultato</h1>
    <img id="result-logo" src="" alt="Logo della casata">
    <button id="view-ranking">Visualizza classifica</button>
</div>





<script>
    // Variabili globali
    let currentUser = "";
    let selectedHouse = "";
    let currentQuestionIndex = 0;
    let score = 0;
    let questions = [];

    // Carica le domande da questions.json
    function loadQuestions() {
        fetch('questions.json')
            .then(response => response.json())
            .then(data => {
                questions = data;
                console.log(questions); // Mostra le domande nel log (per debugging)
            })
            .catch(error => console.error("Errore nel caricamento delle domande:", error));
    }

    // Funzione per cambiare schermata
    function showScreen(screenId) {
        document.querySelectorAll('.screen').forEach(screen => {
            screen.classList.remove('active');
        });
        const screenElement = document.getElementById(screenId);
        if (screenElement) {
            screenElement.classList.add('active');
        } else {
            console.error(`Schermata con ID ${screenId} non trovata.`);
        }
    }

    // Funzione di inizio gioco per la schermata iniziale
    function startGame() {
        const username = document.getElementById('username-input').value.trim();
        if (username === "") {
            alert("Per favore, inserisci un nome valido.");
            return;
        }

        // Imposta il nome utente
        currentUser = username;
        showScreen('letter-screen');
    }

    // Funzione per passare alla schermata delle casate
    function goToHousesScreen() {
        showScreen('houses-screen');
    }

    // Carica le domande quando si sceglie una casata
    const houses = document.querySelectorAll('.house');
    houses.forEach(house => {
        house.addEventListener('click', () => {
            selectedHouse = house.getAttribute('data-house');
            showScreen('quiz-screen');
            loadQuestions(); // Carica le domande
            loadNextQuestion(); // Carica la prima domanda
        });
    });

    // Funzioni per il quiz
    const questionElement = document.getElementById('question');
    const answersContainer = document.getElementById('answers-container');
    const nextQuestionButton = document.getElementById('next-question');

    function loadNextQuestion() {
        if (currentQuestionIndex < questions.length) {
            const currentQuestion = questions[currentQuestionIndex];
            questionElement.textContent = currentQuestion.domanda;
            answersContainer.innerHTML = "";

            currentQuestion.risposte.forEach((answer, index) => {
                const button = document.createElement('button');
                button.textContent = answer;
                button.addEventListener('click', () => {
                    if (index === currentQuestion.corretta) {
                        score++;
                    }
                    currentQuestionIndex++;
                    if (currentQuestionIndex < questions.length) {
                        loadNextQuestion();
                    } else {
                        showResult();
                    }
                });
                answersContainer.appendChild(button);
            });
        } else {
            showResult();
        }
    }

    // Mostra il risultato
    function showResult() {
        showScreen('result-screen');
        const resultMessage = document.getElementById('result-message');
        const resultLogo = document.getElementById('result-logo');
        
        resultMessage.textContent = `La tua casata è: ${selectedHouse}`;
        resultLogo.src = `images/houses/${selectedHouse}.png`;
    }
</script>
</body>
</html>
